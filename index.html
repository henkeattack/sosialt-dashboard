<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <!-- displays site properly based on user's device -->
  <link rel="stylesheet" href="style.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
  <link rel="icon" type="image/png" sizes="32x32" href="./images/favicon-32x32.png">
</head>
<body class="dark">
  <!-- JS SDK Login Button -->
  <header>
  <fb:login-button class="login-button" scope="public_profile,email,pages_show_list, pages_read_engagement,pages_manage_engagement,pages_read_user_content,read_insights,ads_read, instagram_manage_insights, instagram_basic" data-size="medium" data-button-type="continue_with" data-layout="rounded" data-auto-logout-link="true" data-use-continue-as="true" onlogin="checkLoginState();">
  </fb:login-button>
  <div class="status" id="status"></div>
  </header>
  <div class="wrapper">
    <div class="container1">
      <header>
        <section>
          <!-- Header tittel-->
          <div class="header-headline">
            <div class="header-headline-1">Mangla AS Sosiale Medier Dashboard</div>
            <div class="header-headline-2">Totalt Antall Følgere: 718</div>
          </div>

          <!-- Dark/light mode toggle-->
          <div class="header-toggler">
            <div style="font-weight: 700;">Visning</div>

          <div class="toggler" id="toggler">
            <div id="toggler-circle" class="toggler-circle"></div>
            </div>
          </div>
        </section>
          <!-- Sosiale Medier Cards Section -->
        <section>
          <div class="col-md-3 col-sm-6 padding-left resp-padding">
            <div class="header-card facebook">
              <div class="header-card-1">
                <span> <img src="images/icon-facebook.svg" alt="" /> </span>
                <span class="header-card-1-name">@YX7ElevenGjovikSyd</span>
              </div>
              <div class="header-card-2">615</div>
              <div class="header-card-3">Følgere</div>
              <div class="header-card-4">
                <span> <img src="images/icon-up.svg" alt="" /></span>
                <span style="
                  color: hsl(163, 72%, 41%);
                  font-size: 12px;
                  font-weight: 700;
                "
                >12 nye denne uka</span>
              </div>
            </div>
          </div>

          <div class="col-md-3 col-sm-6 padding-left resp-padding">
            <div class="header-card instagram">
              <div class="header-card-1">
                <span> <img src="images/icon-instagram.svg" alt="" /> </span>
                <span class="header-card-1-name">@yx711gjoviksyd</span>
              </div>
              <div class="header-card-2">103</div>
              <div class="header-card-3">Følgere</div>
              <div class="header-card-4">
                <span> <img src="images/icon-up.svg" alt="" /></span>
                <span style="
                  color: hsl(163, 72%, 41%);
                  font-size: 12px;
                  font-weight: 700;
                "
                >5 nye denne uka</span>
              </div>
            </div>
          </div>
        </section>
      </header>

      <main>
        <div class="col-md-12 padding-left">
          <div class="main-heading">Dagens Trafikk</div>
          </div>

          <div class="row main-row-margin">
            
            <div class="col-md-3">
              <div class="main-card">
                <div class="main-card-top">
                  <span>Sidevisninger</span>
                  <span><img src="images/icon-facebook.svg" alt=""></span>
                  </div>
                  <div class="main-card-bottom">
                    <span>23</span>
                    <span><img src="images/icon-up.svg" alt=""> 3% </span>
                </div>
              </div>
            </div>
            
            <div class="col-md-3">
              <div class="main-card">
                <div class="main-card-top">
                  <span>Likes</span>
                  <span><img src="images/icon-facebook.svg" alt=""></span>
                  </div>
                  <div class="main-card-bottom">
                    <span>11</span>
                    <span><img src="images/icon-up.svg" alt=""> 2% </span>
                </div>
              </div>
            </div>
            
            <div class="col-md-3">
              <div class="main-card">
                <div class="main-card-top">
                  <span>Profilvisninger</span>
                  <span><img src="images/icon-instagram.svg" alt=""></span>
                  </div>
                  <div class="main-card-bottom">
                    <span>11</span>
                    <span><img src="images/icon-up.svg" alt=""> 5% </span>
                </div>
              </div>
            </div>

          <div class="col-md-3">
            <div class="main-card">
              <div class="main-card-top">
                <span>Likes</span>
                <span><img src="images/icon-instagram.svg" alt=""></span>
                </div>
                <div class="main-card-bottom">
                  <span>7</span>
                  <span><img src="images/icon-up.svg" alt=""> 2% </span>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>
    </div>

  <script type="module">
  import {
    initializeApp,
    doLogin,
    getAppToken,
    getMyInfo,
    getMyfbAccInfo
  } from "./js/face.js";

  const appId = '4223696350981884';
  const clientToken = '7ea19420eda210c55d3c38515aef5cd6';
  const loginSuccessFunc = async (responseItem) => {
    const appToken = await getAppToken(
      responseItem.userIdInfo,
      responseItem.accessTokenInfo
    );
    
    const fbInfo = await getMyfbAccInfo(
      responseItem.userIdInfo,
      responseItem.accessTokenInfo
    );
    console.log("Welcome. Here is your info: " + fbInfo.data);
  };
  const loginFailFunc = (responseItem) => {};
    window.flowFacebookData = {
      appId: appId,
      clientToken: clientToken,
      loginSuccessFunc: loginSuccessFunc,
      loginFailFunc: loginFailFunc,
  };
  initializeApp();
  window.handlefbLogin = doLogin;
  //<-------- Laster data     
  </script>

<div class="attribution">Laget av Henrik, Sebastian og Morten</div>

<script src="./js/script.js"></script>
  
  <!-- Laster JS SDK -->
  <script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v10.0&appId=4223696350981884&autoLogAppEvents=1" nonce="NiSxSaxt"></script> 
</body>
</html>